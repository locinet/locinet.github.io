---
layout: layout.njk
pageTitle: "Translators Index — Locinet"
permalink: "/translators/"
---

<h1>Translators Index</h1>

<div class="filter-box">
  <label for="translator-filter">Filter by translator:</label>
  <input type="text" id="translator-filter" placeholder="Type to filter..." autocomplete="off">
  <button type="button" id="clear-translator-filter" class="clear-btn">Clear</button>
</div>

<div id="translators-index">
{% for siteEntry in site.translatorIndex %}
  <div class="translator-site" data-site-name="{{ siteEntry.name | lower }}">
    <h2>{{ siteEntry.name }}</h2>
    {% for translator in siteEntry.translators %}
      <div class="translator-entry" id="{{ translator.slug }}" data-translator-name="{{ translator.name | lower }}">
        <h3>{{ translator.name }} <a href="#{{ translator.slug }}" class="anchor-link">#</a></h3>
        <ul class="translator-works-list">
          {% for work in translator.works %}
            <li>
              <a href="/authors/{{ work.authorSlug }}/">{{ work.authorName }}</a>, <a href="/authors/{{ work.authorSlug }}/#{{ work.workId }}" class="work-title-inline">{{ work.title }}</a>{% if work.year %} <span class="work-year">({{ work.year }})</span>{% endif %}{% if work.AI %} <span class="ai-label">AI</span>{% endif %}{% if work.url %} <a href="{{ work.url }}" class="external-link" target="_blank" rel="noopener">↗</a>{% elif work.volumes %} {% for vol, volUrl in work.volumes %}<a href="{{ volUrl }}" class="external-link" target="_blank" rel="noopener">vol. {{ vol }} ↗</a> {% endfor %}{% endif %}
            </li>
          {% endfor %}
        </ul>
      </div>
    {% endfor %}
  </div>
{% endfor %}
</div>

<script>
  (function() {
    const input = document.getElementById('translator-filter');
    const clearBtn = document.getElementById('clear-translator-filter');
    const sites = document.querySelectorAll('.translator-site');

    function filterTranslators() {
      const query = input.value.toLowerCase().trim();
      sites.forEach(function(site) {
        let anyVisible = false;
        site.querySelectorAll('.translator-entry').forEach(function(entry) {
          const name = entry.dataset.translatorName;
          const match = !query || name.indexOf(query) !== -1;
          entry.style.display = match ? '' : 'none';
          if (match) anyVisible = true;
        });
        site.style.display = anyVisible ? '' : 'none';
      });
    }

    input.addEventListener('input', filterTranslators);
    clearBtn.addEventListener('click', function() {
      input.value = '';
      filterTranslators();
    });
  })();
</script>
